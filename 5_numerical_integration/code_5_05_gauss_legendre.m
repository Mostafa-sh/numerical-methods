% Code 5-5 | Gauss-Legendre
clc; clear
n = 2:6;                                    %number of grid points
a = 0; b = pi/2;                            %integration limits
f = @(x) 2*pi*sqrt(1-(3/4)*(sin(x)).^2);    %function
%Method__________________________________________________________________
nn = numel(n); I = zeros(1,nn);
for i = 1:nn
    switch n(i)
        case 2
            X = [ 0.57735, -0.57735];
            S = [       1,        1];
        case 3
            X = [       0, 0.774597,-0.774597];
            S = [0.888889, 0.555556, 0.555556];
        case 4
            X = [0.339981,-0.339981, 0.861136,-0.861136];
            S = [0.652145, 0.652145, 0.347855, 0.347855];
        case 5
            X = [       0, 0.538469,-0.538469, 0.906180,-0.906180];
            S = [0.568889, 0.478629, 0.478629, 0.236927, 0.236927];
        case 6
            X = [0.238619,-0.238619, 0.661209,-0.661209, 0.932470,-0.932470];
            S = [0.467914, 0.467914, 0.360762, 0.360762, 0.171324, 0.171324];
    end
    X = (b-a)/2*X+(b+a)/2;     % mapping domain
    F = f(X);
    I(i) = S*F(:);
end
%Illustration___________________________________________________________
fprintf('%2s %11s \n--------------\n','n','I');
fprintf('%2d% 12.5g\n',[n; I]); fprintf('--------------\n')
