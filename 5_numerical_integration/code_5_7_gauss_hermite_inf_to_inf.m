%% Code 5-7 | Gauss-Hermite (-inf to inf)
clc; clear
n = 2:6;                                 %number of grid points
f = @(x) (2*x.^2+1)./(x.^2+1)./(1+x.^4); %function
%Metod__________________________________________________________________
nn = numel(n); I = zeros(1,nn);
for i = 1:nn
    switch n(i)
        case 2
            X = [0.707107,-0.707107];
            S = [0.886227, 0.886227];
        case 3
            X = [       0, 1.224745,-1.224745];
            S = [1.181636, 0.295409, 0.295409];
        case 4
            X = [0.524648,-0.524648,    1.650680,   -1.650680];
            S = [0.804914, 0.804914, 0.813128e-1, 0.813128e-1];
        case 5
            X = [       0, 0.958572,   -0.958572,    2.020183,    -2.020183];
            S = [0.945308, 0.393619,    0.393619, 0.199532e-1,  0.199532e-1];
        case 6
            X = [0.436077,-0.436077,    1.335849,   -1.335849,     2.350605,   -2.350605];
            S = [0.724629, 0.724629,    0.157067,    0.157067,  0.453001e-2, 0.453001e-2];
    end
    S = S.*exp(X.^2);
    F = f(X);
    I(i) = S*F(:);
end
%Illustration___________________________________________________________
fprintf('%2s %11s \n--------------\n','n','I');
fprintf('%2d% 12.5g\n',[n; I]); fprintf('--------------\n')
